Лабораторная работа №4 (использование макросредств)

Во всех задачах, где это применимо, макросы, блоки повторений и
директивы условного ассемблирования должны самостоятельно определять
корректность введённых данных, в том числе проверяя существование
переданных в качестве фактических параметров переменных, а также не
портить значения ни в каких регистрах, если не указано обратное.


Описать в виде макросов указанные команды, предполагая, что таких
команд в ассемблере нет (PUSH и POP использовать можно, т.к. их
разновидности в 8086 работают только с операндами размером в
слово; также в качестве вспомогательных можно использовать
регистры EAX и EBX):
а) PUSHM X (X — переменная размером в двойное слово);
б) POPM X (X — переменная размером в двойное слово);
в) CALLM P (P — имя процедуры);
г) RETM N (N — константа);
д) LOOPM L (L — метка).

Напиши мне код, который будет выполнять все указанные выше требования. кроме того, напиши мне несколько примеров ввода и ожидаемого вывода для проверки работы кода
Синтаксис кода должен повторять следующий код:
assume CS:code,DS:data 

data segment 
msg db "Hello, world!$" 
data ends 

code segment 
start: 
mov AX, data 
mov DS, AX 

mov AH, 09h 
mov DX, offset msg 
int 21h

mov AH, 4Chint 21h 
code ends
end start 

