Лабораторная работа №4 (использование макросредств)

Условие задания:
Во всех задачах, где это применимо, макросы, блоки повторений и
директивы условного ассемблирования должны самостоятельно определять
корректность введённых данных, в том числе проверяя существование
переданных в качестве фактических параметров переменных, а также не
портить значения ни в каких регистрах, если не указано обратное.

Необходимо реализовать:
Описать в виде макросов указанные команды, предполагая, что таких
команд в ассемблере нет (PUSH и POP использовать можно, т.к. их
разновидности в 8086 работают только с операндами размером в
слово; также в качестве вспомогательных можно использовать
регистры EAX и EBX):
а) PUSHM X (X — переменная размером в двойное слово);
б) POPM X (X — переменная размером в двойное слово);
в) CALLM P (P — имя процедуры);
г) RETM N (N — константа);
д) LOOPM L (L — метка).

Напиши мне полную реализацию кода,без сокращений, без необходимости дописывать код или доделывать реализацию с моей стороны. полный код должен выполнять все указанные по заданию требования

Синтаксис кода должен повторять следующий код:
assume CS:code,DS:data 

data segment 
msg db "Hello, world!$" 
data ends 

code segment 
start: 
mov AX, data 
mov DS, AX 

mov AH, 09h 
mov DX, offset msg 
int 21h

mov AH, 4Chint 21h 
code ends
end start 

код буду компилировать через dosbox, поэтому тебе стоит учитывать это при написании кода, чтобы не включить в него то, что может вызвать ошибки при компиляции (как например тот же illegal instruction) 